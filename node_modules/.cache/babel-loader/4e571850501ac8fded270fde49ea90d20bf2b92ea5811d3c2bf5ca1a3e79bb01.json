{"ast":null,"code":"(function () {\n  // save these original methods before they are overwritten\n  var proto_initIcon = L.Marker.prototype._initIcon;\n  var proto_setPos = L.Marker.prototype._setPos;\n  var oldIE = L.DomUtil.TRANSFORM === 'msTransform';\n  L.Marker.addInitHook(function () {\n    var iconOptions = this.options.icon && this.options.icon.options;\n    var iconAnchor = iconOptions && this.options.icon.options.iconAnchor;\n    if (iconAnchor) {\n      iconAnchor = iconAnchor[0] + 'px ' + iconAnchor[1] + 'px';\n    }\n    this.options.rotationOrigin = this.options.rotationOrigin || iconAnchor || 'center bottom';\n    this.options.rotationAngle = this.options.rotationAngle || 0;\n\n    // Ensure marker keeps rotated during dragging\n    this.on('drag', function (e) {\n      e.target._applyRotation();\n    });\n  });\n  L.Marker.include({\n    _initIcon: function () {\n      proto_initIcon.call(this);\n    },\n    _setPos: function (pos) {\n      proto_setPos.call(this, pos);\n      this._applyRotation();\n    },\n    _applyRotation: function () {\n      if (this.options.rotationAngle) {\n        this._icon.style[L.DomUtil.TRANSFORM + 'Origin'] = this.options.rotationOrigin;\n        if (oldIE) {\n          // for IE 9, use the 2D rotation\n          this._icon.style[L.DomUtil.TRANSFORM] = 'rotate(' + this.options.rotationAngle + 'deg)';\n        } else {\n          // for modern browsers, prefer the 3D accelerated version\n          this._icon.style[L.DomUtil.TRANSFORM] += ' rotateZ(' + this.options.rotationAngle + 'deg)';\n        }\n      }\n    },\n    setRotationAngle: function (angle) {\n      this.options.rotationAngle = angle;\n      this.update();\n      return this;\n    },\n    setRotationOrigin: function (origin) {\n      this.options.rotationOrigin = origin;\n      this.update();\n      return this;\n    }\n  });\n})();","map":{"version":3,"names":["proto_initIcon","L","Marker","prototype","_initIcon","proto_setPos","_setPos","oldIE","DomUtil","TRANSFORM","addInitHook","iconOptions","options","icon","iconAnchor","rotationOrigin","rotationAngle","on","e","target","_applyRotation","include","call","pos","_icon","style","setRotationAngle","angle","update","setRotationOrigin","origin"],"sources":["/Users/jordandohou/Web/node_modules/leaflet-rotatedmarker/leaflet.rotatedMarker.js"],"sourcesContent":["(function() {\r\n    // save these original methods before they are overwritten\r\n    var proto_initIcon = L.Marker.prototype._initIcon;\r\n    var proto_setPos = L.Marker.prototype._setPos;\r\n\r\n    var oldIE = (L.DomUtil.TRANSFORM === 'msTransform');\r\n\r\n    L.Marker.addInitHook(function () {\r\n        var iconOptions = this.options.icon && this.options.icon.options;\r\n        var iconAnchor = iconOptions && this.options.icon.options.iconAnchor;\r\n        if (iconAnchor) {\r\n            iconAnchor = (iconAnchor[0] + 'px ' + iconAnchor[1] + 'px');\r\n        }\r\n        this.options.rotationOrigin = this.options.rotationOrigin || iconAnchor || 'center bottom' ;\r\n        this.options.rotationAngle = this.options.rotationAngle || 0;\r\n\r\n        // Ensure marker keeps rotated during dragging\r\n        this.on('drag', function(e) { e.target._applyRotation(); });\r\n    });\r\n\r\n    L.Marker.include({\r\n        _initIcon: function() {\r\n            proto_initIcon.call(this);\r\n        },\r\n\r\n        _setPos: function (pos) {\r\n            proto_setPos.call(this, pos);\r\n            this._applyRotation();\r\n        },\r\n\r\n        _applyRotation: function () {\r\n            if(this.options.rotationAngle) {\r\n                this._icon.style[L.DomUtil.TRANSFORM+'Origin'] = this.options.rotationOrigin;\r\n\r\n                if(oldIE) {\r\n                    // for IE 9, use the 2D rotation\r\n                    this._icon.style[L.DomUtil.TRANSFORM] = 'rotate(' + this.options.rotationAngle + 'deg)';\r\n                } else {\r\n                    // for modern browsers, prefer the 3D accelerated version\r\n                    this._icon.style[L.DomUtil.TRANSFORM] += ' rotateZ(' + this.options.rotationAngle + 'deg)';\r\n                }\r\n            }\r\n        },\r\n\r\n        setRotationAngle: function(angle) {\r\n            this.options.rotationAngle = angle;\r\n            this.update();\r\n            return this;\r\n        },\r\n\r\n        setRotationOrigin: function(origin) {\r\n            this.options.rotationOrigin = origin;\r\n            this.update();\r\n            return this;\r\n        }\r\n    });\r\n})();\r\n"],"mappings":"AAAA,CAAC,YAAW;EACR;EACA,IAAIA,cAAc,GAAGC,CAAC,CAACC,MAAM,CAACC,SAAS,CAACC,SAAS;EACjD,IAAIC,YAAY,GAAGJ,CAAC,CAACC,MAAM,CAACC,SAAS,CAACG,OAAO;EAE7C,IAAIC,KAAK,GAAIN,CAAC,CAACO,OAAO,CAACC,SAAS,KAAK,aAAc;EAEnDR,CAAC,CAACC,MAAM,CAACQ,WAAW,CAAC,YAAY;IAC7B,IAAIC,WAAW,GAAG,IAAI,CAACC,OAAO,CAACC,IAAI,IAAI,IAAI,CAACD,OAAO,CAACC,IAAI,CAACD,OAAO;IAChE,IAAIE,UAAU,GAAGH,WAAW,IAAI,IAAI,CAACC,OAAO,CAACC,IAAI,CAACD,OAAO,CAACE,UAAU;IACpE,IAAIA,UAAU,EAAE;MACZA,UAAU,GAAIA,UAAU,CAAC,CAAC,CAAC,GAAG,KAAK,GAAGA,UAAU,CAAC,CAAC,CAAC,GAAG,IAAK;IAC/D;IACA,IAAI,CAACF,OAAO,CAACG,cAAc,GAAG,IAAI,CAACH,OAAO,CAACG,cAAc,IAAID,UAAU,IAAI,eAAe;IAC1F,IAAI,CAACF,OAAO,CAACI,aAAa,GAAG,IAAI,CAACJ,OAAO,CAACI,aAAa,IAAI,CAAC;;IAE5D;IACA,IAAI,CAACC,EAAE,CAAC,MAAM,EAAE,UAASC,CAAC,EAAE;MAAEA,CAAC,CAACC,MAAM,CAACC,cAAc,EAAE;IAAE,CAAC,CAAC;EAC/D,CAAC,CAAC;EAEFnB,CAAC,CAACC,MAAM,CAACmB,OAAO,CAAC;IACbjB,SAAS,EAAE,YAAW;MAClBJ,cAAc,CAACsB,IAAI,CAAC,IAAI,CAAC;IAC7B,CAAC;IAEDhB,OAAO,EAAE,UAAUiB,GAAG,EAAE;MACpBlB,YAAY,CAACiB,IAAI,CAAC,IAAI,EAAEC,GAAG,CAAC;MAC5B,IAAI,CAACH,cAAc,EAAE;IACzB,CAAC;IAEDA,cAAc,EAAE,YAAY;MACxB,IAAG,IAAI,CAACR,OAAO,CAACI,aAAa,EAAE;QAC3B,IAAI,CAACQ,KAAK,CAACC,KAAK,CAACxB,CAAC,CAACO,OAAO,CAACC,SAAS,GAAC,QAAQ,CAAC,GAAG,IAAI,CAACG,OAAO,CAACG,cAAc;QAE5E,IAAGR,KAAK,EAAE;UACN;UACA,IAAI,CAACiB,KAAK,CAACC,KAAK,CAACxB,CAAC,CAACO,OAAO,CAACC,SAAS,CAAC,GAAG,SAAS,GAAG,IAAI,CAACG,OAAO,CAACI,aAAa,GAAG,MAAM;QAC3F,CAAC,MAAM;UACH;UACA,IAAI,CAACQ,KAAK,CAACC,KAAK,CAACxB,CAAC,CAACO,OAAO,CAACC,SAAS,CAAC,IAAI,WAAW,GAAG,IAAI,CAACG,OAAO,CAACI,aAAa,GAAG,MAAM;QAC9F;MACJ;IACJ,CAAC;IAEDU,gBAAgB,EAAE,UAASC,KAAK,EAAE;MAC9B,IAAI,CAACf,OAAO,CAACI,aAAa,GAAGW,KAAK;MAClC,IAAI,CAACC,MAAM,EAAE;MACb,OAAO,IAAI;IACf,CAAC;IAEDC,iBAAiB,EAAE,UAASC,MAAM,EAAE;MAChC,IAAI,CAAClB,OAAO,CAACG,cAAc,GAAGe,MAAM;MACpC,IAAI,CAACF,MAAM,EAAE;MACb,OAAO,IAAI;IACf;EACJ,CAAC,CAAC;AACN,CAAC,GAAG"},"metadata":{},"sourceType":"script","externalDependencies":[]}